<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GMR SAKURA - Street System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #010103;
            color: white;
            overflow-x: hidden;
            margin: 0;
            padding-bottom: 100px;
        }

        /* Neon Scanner Effect */
        .neon-scanner {
            position: fixed;
            top: -100%;
            left: 0;
            width: 100%;
            height: 35vh;
            background: linear-gradient(to bottom, transparent, rgba(0, 242, 255, 0.1), transparent);
            animation: scan 12s linear infinite;
            z-index: 0;
            pointer-events: none;
        }
        @keyframes scan {
            0% { top: -100%; }
            100% { top: 200%; }
        }

        .glass {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-neon {
            background: #00f2ff;
            color: #000;
            box-shadow: 0 0 30px #00f2ff;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            z-index: 50;
        }
        .btn-neon:active {
            transform: scale(0.92);
        }

        /* Impact Effects */
        .shockwave-explosion {
            position: absolute;
            border-radius: 50%;
            background: rgba(0, 242, 255, 0.4);
            transform: scale(0);
            animation: explode 0.8s cubic-bezier(0.1, 0.8, 0.3, 1);
            pointer-events: none;
            width: 20px;
            height: 20px;
        }
        @keyframes explode {
            0% { transform: scale(0); opacity: 1; filter: blur(0px); }
            100% { transform: scale(40); opacity: 0; filter: blur(20px); }
        }

        .spark-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00f2ff;
            border-radius: 50%;
            pointer-events: none;
            animation: spark 1s forwards;
            box-shadow: 0 0 10px #00f2ff;
        }
        @keyframes spark {
            0% { transform: translate(0, 0) scale(1.5); opacity: 1; }
            100% { transform: translate(var(--rx), var(--ry)) scale(0); opacity: 0; }
        }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #00f2ff; border-radius: 10px; }

        .toast {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            background: #00f2ff;
            color: black;
            padding: 12px 40px;
            border-radius: 9999px;
            font-weight: 900;
            font-size: 10px;
            z-index: 1000;
            box-shadow: 0 0 50px rgba(0, 242, 255, 0.6);
            display: none;
        }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* Music Player Bar */
        .music-player-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #1DB954;
            padding: 10px 20px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body onclick="initMusic()">

    <div class="neon-scanner"></div>
    <div id="toast" class="toast uppercase tracking-widest">¬°Copiado! üöÄ</div>

    <!-- Hidden Audio Player -->
    <audio id="bg-audio" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <!-- Visual Music Bar -->
    <div class="music-player-bar glass">
        <div class="flex items-center gap-3">
            <div id="music-wave" class="flex gap-1 items-end h-4">
                <div class="w-1 bg-[#1DB954] h-2 animate-pulse"></div>
                <div class="w-1 bg-[#1DB954] h-4 animate-bounce"></div>
                <div class="w-1 bg-[#1DB954] h-3 animate-pulse"></div>
            </div>
            <span class="text-[9px] font-black tracking-widest text-[#1DB954] uppercase">Reggaeton Trend Mix</span>
        </div>
        <button id="mute-btn" onclick="toggleMute()" class="text-[10px] font-bold text-white/50 hover:text-white">MUTEAR</button>
    </div>

    <div class="relative z-10 min-h-screen w-full flex flex-col items-center p-6">
        
        <!-- Header Stats -->
        <div class="w-full max-w-md flex gap-4 mb-8">
            <div class="flex-1 glass p-5 rounded-[30px] text-center border-[#00f2ff]/20">
                <div class="text-[9px] opacity-40 tracking-widest uppercase font-black">Squad Activo</div>
                <div id="view-count" class="text-3xl font-black text-[#00f2ff] tracking-tighter">0</div>
            </div>
            <div class="flex-1 glass p-5 rounded-[30px] text-center border-[#00f2ff]/20">
                <div class="text-[9px] opacity-40 tracking-widest uppercase font-black">Apoyos Real</div>
                <div id="click-count" class="text-3xl font-black text-[#00f2ff] tracking-tighter">0</div>
            </div>
        </div>

        <!-- Profile Card -->
        <div class="w-full max-w-md glass rounded-[60px] p-10 text-center mb-8 relative overflow-hidden border-white/5 shadow-2xl">
            <div class="w-36 h-36 mx-auto mb-8 rounded-full border-4 border-[#00f2ff] overflow-hidden shadow-[0_0_50px_rgba(0,242,255,0.3)]">
                <img src="https://i.ibb.co/MkH478r5/image.jpg" class="w-full h-full object-cover grayscale-[0.2] hover:grayscale-0 transition-all duration-700" alt="GMR">
            </div>
            <h1 class="text-4xl font-black italic mb-2 uppercase tracking-tighter">GMR <span class="text-[#00f2ff]">SAKURA</span></h1>
            <p class="text-[10px] tracking-[10px] text-[#00f2ff] font-black mb-10 opacity-70">STREET SYSTEM V6.0</p>
            
            <button onclick="handleAdClick(event)" class="btn-neon w-full py-7 rounded-[30px] font-black uppercase text-[11px] tracking-[5px]">
                Apoyar Gratis (Ver Anuncio)
            </button>
        </div>

        <!-- Metodos de Apoyo -->
        <div class="w-full max-w-md space-y-4 mb-8">
            <div class="text-center mb-4">
                <span class="text-[10px] font-black tracking-[8px] text-white/20 uppercase">M√©todos de Apoyo</span>
            </div>
            
            <!-- Binance -->
            <div onclick="toggleTab(event, 'bi')" class="payment-row glass p-6 rounded-[35px] flex items-center justify-between cursor-pointer transition-all hover:bg-white/5 border border-transparent">
                <div class="flex items-center gap-5 pointer-events-none">
                    <div class="w-11 h-11 bg-[#FCD535] rounded-2xl flex items-center justify-center shadow-lg">
                        <img src="https://cryptologos.cc/logos/binance-coin-bnb-logo.png" class="w-6 h-6" alt="B">
                    </div>
                    <span class="text-xs font-black uppercase tracking-widest">Binance Pay</span>
                </div>
                <span class="text-lg opacity-20">‚ö°</span>
            </div>
            <div id="tab-bi" class="tab-content mx-4 p-5 bg-white/5 border border-[#FCD535]/30 rounded-2xl text-center text-xs font-mono text-[#FCD535]" onclick="copyText('aleman.j.fl.studio27@gmail.com')">
                aleman.j.fl.studio27@gmail.com
                <div class="text-[9px] mt-2 opacity-50 font-black">TAP PARA COPIAR</div>
            </div>

            <!-- Pago Movil -->
            <div onclick="toggleTab(event, 'pm')" class="payment-row glass p-6 rounded-[35px] flex items-center justify-between cursor-pointer transition-all hover:bg-white/5 border border-transparent">
                <div class="flex items-center gap-5 pointer-events-none">
                    <div class="w-11 h-11 bg-[#E31E24] rounded-2xl flex items-center justify-center font-black text-white text-[10px] shadow-lg">BT</div>
                    <div class="flex flex-col text-left">
                        <span class="text-xs font-black uppercase tracking-widest leading-tight">Pago M√≥vil</span>
                        <span class="text-[8px] opacity-40 font-bold uppercase">Banco del Tesoro (0163)</span>
                    </div>
                </div>
                <span class="text-lg opacity-20">üáªüá™</span>
            </div>
            <div id="tab-pm" class="tab-content mx-4 space-y-2">
                <div onclick="copyText('V-21.191.915')" class="p-4 bg-white/5 border border-white/10 rounded-2xl text-center text-xs font-mono cursor-pointer">
                    <span class="block text-[9px] opacity-40 mb-1 uppercase">C√©dula</span>
                    V-21.191.915
                </div>
                <div onclick="copyText('0412 3793832')" class="p-4 bg-white/5 border border-white/10 rounded-2xl text-center text-xs font-mono cursor-pointer">
                    <span class="block text-[9px] opacity-40 mb-1 uppercase">Tel√©fono</span>
                    0412 3793832
                </div>
            </div>

            <!-- PayPal -->
            <div onclick="toggleTab(event, 'pp')" class="payment-row glass p-6 rounded-[35px] flex items-center justify-between cursor-pointer transition-all hover:bg-white/5 border border-transparent">
                <div class="flex items-center gap-5 pointer-events-none">
                    <div class="w-11 h-11 bg-white rounded-2xl flex items-center justify-center overflow-hidden p-1 shadow-lg">
                        <img src="https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_111x69.jpg" class="w-full h-full object-contain" alt="P">
                    </div>
                    <span class="text-xs font-black uppercase tracking-widest">PayPal</span>
                </div>
                <span class="text-lg opacity-20">üåç</span>
            </div>
            <div id="tab-pp" class="tab-content mx-4 p-5 bg-white/5 border border-[#003087]/30 rounded-2xl text-center text-xs font-mono text-[#4fb0ff]" onclick="copyText('aleman.j.vzla@gmail.com')">
                aleman.j.vzla@gmail.com
                <div class="text-[9px] mt-2 opacity-50 font-black">TAP PARA COPIAR</div>
            </div>
        </div>

        <!-- Muro de Honor -->
        <div class="w-full max-w-md glass rounded-[50px] p-10 border-white/5">
            <h2 class="text-center font-black tracking-[8px] text-xs mb-8 uppercase italic opacity-60">Muro de Honor</h2>
            <div class="space-y-4 mb-10">
                <input type="text" id="comment-name" placeholder="Tu nombre..." class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-5 text-[11px] focus:outline-none focus:border-[#00f2ff] transition-all">
                <textarea id="comment-text" placeholder="Deja tu mensaje de apoyo..." class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-5 text-[11px] focus:outline-none focus:border-[#00f2ff] h-24 resize-none transition-all"></textarea>
                <button onclick="sendComment(event)" id="submit-btn" class="w-full py-5 rounded-2xl glass font-black uppercase text-[10px] tracking-widest hover:border-[#00f2ff] hover:text-[#00f2ff] transition-all">
                    Enviar Mensaje
                </button>
            </div>
            <div id="comments-container" class="space-y-5 max-h-[300px] overflow-y-auto pr-3 custom-scrollbar">
                <!-- Comments injected here -->
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'gmr-sakura-v6-html';

        // Stats System
        let clicks = parseInt(localStorage.getItem('gmr_clicks') || "0");
        let views = parseInt(localStorage.getItem('gmr_views') || "0");
        views++;
        localStorage.setItem('gmr_views', views);
        
        document.getElementById('view-count').innerText = views;
        document.getElementById('click-count').innerText = clicks;

        // Music Logic
        let musicInited = false;
        const audio = document.getElementById('bg-audio');
        const playlist = [
            "https://cdn.pixabay.com/audio/2022/10/18/audio_3195f30d63.mp3", // Energetic Urban
            "https://cdn.pixabay.com/audio/2022/01/18/audio_d0c6ff11bd.mp3", // Reggaeton Beat
            "https://cdn.pixabay.com/audio/2021/11/24/audio_9593f6089d.mp3"  // Trend Rhythm
        ];

        window.initMusic = () => {
            if (!musicInited) {
                const randomTrack = playlist[Math.floor(Math.random() * playlist.length)];
                audio.src = randomTrack;
                audio.play().catch(() => console.log("User interaction needed"));
                musicInited = true;
                document.getElementById('music-wave').classList.remove('hidden');
            }
        };

        window.toggleMute = () => {
            audio.muted = !audio.muted;
            document.getElementById('mute-btn').innerText = audio.muted ? 'DESMUTEAR' : 'MUTEAR';
        };

        // UI Logic
        window.triggerImpact = (e) => {
            const btn = e.currentTarget;
            const rect = btn.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const explosion = document.createElement("span");
            explosion.className = "shockwave-explosion";
            explosion.style.left = `${x}px`;
            explosion.style.top = `${y}px`;
            btn.appendChild(explosion);

            for(let i=0; i<12; i++) {
                const particle = document.createElement("span");
                particle.className = "spark-particle";
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.setProperty('--rx', `${(Math.random() - 0.5) * 200}px`);
                particle.style.setProperty('--ry', `${(Math.random() - 0.5) * 200}px`);
                btn.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
            setTimeout(() => explosion.remove(), 800);
        };

        window.handleAdClick = (e) => {
            triggerImpact(e);
            initMusic(); // Trigger music on this interaction too
            clicks++;
            localStorage.setItem('gmr_clicks', clicks);
            document.getElementById('click-count').innerText = clicks;
            window.open("https://www.effectivegatecpm.com/b4g7emb7e?key=6ecc92e70221a623f34ddcc5d9f426d9", "_blank");
        };

        window.toggleTab = (e, tabId) => {
            triggerImpact(e);
            const content = document.getElementById(`tab-${tabId}`);
            const isActive = content.classList.contains('active');
            
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.payment-row').forEach(el => el.classList.remove('border-[#00f2ff]', 'bg-white/10'));

            if (!isActive) {
                content.classList.add('active');
                e.currentTarget.classList.add('border-[#00f2ff]', 'bg-white/10');
            }
        };

        window.copyText = (text) => {
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            
            const toast = document.getElementById('toast');
            toast.style.display = 'block';
            setTimeout(() => toast.style.display = 'none', 3000);
        };

        // Firebase Comments
        signInAnonymously(auth).then(() => {
            const colRef = collection(db, 'artifacts', appId, 'public', 'data', 'comments');
            onSnapshot(colRef, (snapshot) => {
                const container = document.getElementById('comments-container');
                container.innerHTML = '';
                const docs = snapshot.docs.map(doc => doc.data()).sort((a, b) => (b.createdAt?.seconds || 0) - (a.createdAt?.seconds || 0));
                
                docs.forEach(data => {
                    const div = document.createElement('div');
                    div.className = "bg-white/[0.03] p-6 rounded-[25px] border-l-4 border-[#00f2ff] group hover:bg-white/[0.06] transition-all";
                    div.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-[10px] font-black text-[#00f2ff] uppercase tracking-wider">${data.author || 'An√≥nimo'}</span>
                            <span class="text-[8px] opacity-20 font-bold uppercase">HOT</span>
                        </div>
                        <p class="text-[13px] text-white/50 font-light italic leading-relaxed">"${data.text}"</p>
                    `;
                    container.appendChild(div);
                });
            });
        });

        window.sendComment = async (e) => {
            const name = document.getElementById('comment-name').value;
            const text = document.getElementById('comment-text').value;
            const btn = document.getElementById('submit-btn');

            if (!text.trim()) return;
            btn.disabled = true;

            try {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'comments'), {
                    author: name || 'An√≥nimo',
                    text: text,
                    createdAt: serverTimestamp()
                });
                document.getElementById('comment-text').value = '';
                btn.innerText = '¬°LISTO! üî•';
                setTimeout(() => btn.innerText = 'Enviar Mensaje', 2000);
            } catch (err) {
                console.error(err);
            } finally {
                btn.disabled = false;
            }
        };
    </script>
</body>
</html>

    
